(this.webpackJsonpexam_8_kuanysh_beisembayev=this.webpackJsonpexam_8_kuanysh_beisembayev||[]).push([[0],{164:function(e,t,n){},166:function(e,t,n){"use strict";n.r(t);var a=n(4),c=n(0),i=n(26),o=n.n(i),r=n(20),s=n(8),u=n(9),d=n(174),j=n(177),l=n(167),b=n(182),h=[{id:"humour",name:"Humour"},{id:"love",name:"Love"},{id:"motivation",name:"Motivation"},{id:"life",name:"Life"}],x=function(){return Object(a.jsx)(d.a,{borderRight:!0,children:Object(a.jsx)(d.a,{position:"sticky",top:0,children:Object(a.jsxs)(b.a,{children:[Object(a.jsx)(b.a.Group,{children:Object(a.jsx)(b.a.Item,{is:r.b,to:"/",children:"All"})}),Object(a.jsx)(b.a.Divider,{}),Object(a.jsx)(b.a.Group,{children:h.map((function(e){return Object(a.jsx)(b.a.Item,{is:r.b,to:"/quotes/".concat(e.id),children:e.name},e.id)}))})]})})})},m=n(24),O=n(66),f=n.n(O).a.create({baseURL:"https://qwanysh-api.firebaseio.com"}),p=function(e){var t=e.author,n=e.text;return t.trim().length&&n.trim().length},g=n(181),y=n(39),v=n(67),q=function(e){var t=e.quote,n=e.onDelete,i=Object(c.useState)(!1),o=Object(u.a)(i,2),s=o[0],l=o[1];return Object(a.jsxs)(d.a,{display:"flex",flexDirection:"column",justifyContent:"space-between",border:!0,marginBottom:10,className:"fadeIn",children:[Object(a.jsx)(y.a,{padding:10,children:t.text}),Object(a.jsxs)(d.a,{borderTop:!0,padding:10,display:"flex",justifyContent:"flex-end",alignItems:"center",children:[Object(a.jsx)(j.a,{size:100,marginRight:"auto",children:t.author}),Object(a.jsx)(v.a,{marginRight:5,intent:"warning",is:r.b,to:"/quotes/".concat(t.id,"/edit"),children:"Edit"}),Object(a.jsx)(v.a,{intent:"danger",isLoading:s,onClick:function(){var e;l(!0),(e=t.id,f.delete("/quotes/".concat(e,".json"))).then((function(){l(!1),n(),g.a.success("Quote deleted")}))},children:"Delete"})]})]})},I=function(e){var t=e.quotes,n=e.onDelete;return t.length?t.map((function(e){return Object(a.jsx)(q,{quote:e,onDelete:n.bind(undefined,e.id)},e.id)})):Object(a.jsx)(y.a,{className:"fadeIn",children:"No quotes here :("})},C=function(e){var t=Object(c.useState)(!1),n=Object(u.a)(t,2),i=n[0],o=n[1],r=Object(c.useState)([]),s=Object(u.a)(r,2),b=s[0],O=s[1],p=Object(c.useState)(null),g=Object(u.a)(p,2),y=g[0],v=g[1];return Object(c.useEffect)((function(){var t=e.match.params.categoryId,n=h.find((function(e){return e.id===t}));t&&!n&&e.history.replace("/404"),v(t?n:null)}),[e.match.params]),Object(c.useEffect)((function(){e.match.params.categoryId&&!y||(o(!0),function(e){var t=e?'/quotes.json?orderBy="category"&equalTo="'.concat(e.id,'"'):"/quotes.json";return f.get(t).then((function(e){var t=e.data;return t?Object.entries(t).map((function(e){var t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(m.a)(Object(m.a)({},a),{},{id:n})})):[]}))}(y).then((function(e){o(!1),O(e)})))}),[y]),Object(a.jsxs)(d.a,{paddingY:40,display:"flex",className:"fadeIn",children:[Object(a.jsx)(x,{}),Object(a.jsxs)(d.a,{padding:10,paddingRight:0,flexGrow:1,children:[Object(a.jsx)(j.a,{marginBottom:10,children:y?y.name:"All"}),i?Object(a.jsx)(l.a,{size:40,marginX:"auto"}):Object(a.jsx)(I,{quotes:b,onDelete:function(e){O(b.filter((function(t){return t.id!==e})))}})]})]})},S=function(){return Object(a.jsxs)(d.a,{paddingY:20,display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:!0,children:[Object(a.jsx)(j.a,{children:"Quotes App"}),Object(a.jsxs)(d.a,{display:"flex",alignItems:"center",children:[Object(a.jsx)(v.a,{is:r.b,to:"/",appearance:"minimal",paddingX:10,children:"Quotes"}),Object(a.jsx)(v.a,{is:r.b,to:"/add-quote",appearance:"minimal",paddingX:10,children:"Submit new Quote"})]})]})},D=n(184),E=n(185),Q=n(186),k=function(e){var t=e.history,n=Object(c.useState)(!1),i=Object(u.a)(n,2),o=i[0],r=i[1],s=Object(c.useState)({category:h[0].id,author:"",text:""}),l=Object(u.a)(s,2),b=l[0],x=l[1],O=function(e){var t=Object(m.a)({},b);t[e.target.name]=e.target.value,x(t)};return Object(a.jsxs)(d.a,{paddingY:40,display:"flex",flexDirection:"column",className:"fadeIn",children:[Object(a.jsx)(j.a,{marginBottom:10,children:"Create Quote"}),Object(a.jsx)(D.a,{label:"Category",value:b.category,name:"category",onChange:O,children:h.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.name},e.id)}))}),Object(a.jsx)(E.a,{label:"Author",placeholder:"Enter author name",value:b.author,name:"author",onChange:O}),Object(a.jsx)(Q.a,{label:"Quote text",placeholder:"Enter quote text",value:b.text,name:"text",onChange:O}),Object(a.jsx)(v.a,{alignSelf:"flex-end",onClick:function(){p(b)&&(r(!0),function(e){return f.post("/quotes.json",e)}(b).then((function(){r(!1),g.a.success("Quote added"),t.push("/")})))},isLoading:o,disabled:!p(b),intent:"success",children:"Save"})]})},B=function(e){var t=Object(c.useState)(!1),n=Object(u.a)(t,2),i=n[0],o=n[1],s=Object(c.useState)({category:"",author:"",text:""}),l=Object(u.a)(s,2),b=l[0],x=l[1],O=function(e){var t=Object(m.a)({},b);t[e.target.name]=e.target.value,x(t)};return Object(c.useEffect)((function(){(function(e){return f.get("/quotes/".concat(e,".json")).then((function(t){return Object(m.a)(Object(m.a)({},t.data),{},{id:e})}))})(e.match.params.quoteId).then((function(e){x(e)}))}),[e.match.params]),Object(a.jsxs)(d.a,{paddingY:40,display:"flex",flexDirection:"column",className:"fadeIn",children:[Object(a.jsx)(j.a,{marginBottom:10,children:"Edit Quote"}),Object(a.jsx)(D.a,{label:"Category",value:b.category,name:"category",onChange:O,children:h.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.name},e.id)}))}),Object(a.jsx)(E.a,{label:"Author",placeholder:"Enter author name",value:b.author,name:"author",onChange:O}),Object(a.jsx)(Q.a,{label:"Quote text",placeholder:"Enter quote text",value:b.text,name:"text",onChange:O}),Object(a.jsxs)(d.a,{display:"flex",justifyContent:"flex-end",alignItems:"center",children:[Object(a.jsx)(v.a,{is:r.b,to:"/",marginRight:10,children:"Back to quotes"}),Object(a.jsx)(v.a,{onClick:function(){p(b)&&(o(!0),function(e){return f.put("/quotes/".concat(e.id,".json"),e)}(b).then((function(){o(!1),g.a.success("Quote saved")})))},isLoading:i,disabled:!p(b),intent:"success",children:"Save"})]})]})},w=n(178),N=function(){return Object(a.jsxs)(d.a,{paddingY:40,className:"fadeIn",display:"flex",flexDirection:"column",alignItems:"center",children:[Object(a.jsx)(w.a,{color:"muted",size:40,marginBottom:20}),Object(a.jsx)(j.a,{children:"404 Not found"})]})},L=function(){return Object(a.jsx)(r.a,{basename:"/quote-app/",children:Object(a.jsxs)(d.a,{maxWidth:640,paddingX:20,marginX:"auto",children:[Object(a.jsx)(S,{}),Object(a.jsxs)(s.d,{children:[Object(a.jsx)(s.b,{path:"/",exact:!0,component:C}),Object(a.jsx)(s.b,{path:"/quotes/:categoryId",exact:!0,component:C}),Object(a.jsx)(s.b,{path:"/add-quote",exact:!0,component:k}),Object(a.jsx)(s.b,{path:"/quotes/:quoteId/edit",exact:!0,component:B}),Object(a.jsx)(s.b,{path:"/404",exact:!0,component:N}),Object(a.jsx)(s.b,{path:"/",children:Object(a.jsx)(s.a,{to:"/404"})})]})]})})};n(164);o.a.render(Object(a.jsx)(L,{}),document.getElementById("root"))}},[[166,1,2]]]);
//# sourceMappingURL=main.f0a30770.chunk.js.map