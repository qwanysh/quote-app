(this.webpackJsonpexam_8_kuanysh_beisembayev=this.webpackJsonpexam_8_kuanysh_beisembayev||[]).push([[0],{164:function(e,t,n){},166:function(e,t,n){"use strict";n.r(t);var a=n(4),c=n(0),i=n(26),o=n.n(i),r=n(20),s=n(8),u=n(9),d=n(174),j=n(177),l=n(167),b=n(182),h=[{id:"humour",name:"Humour"},{id:"love",name:"Love"},{id:"motivation",name:"Motivation"},{id:"life",name:"Life"}],x=function(){return Object(a.jsx)(d.a,{borderRight:!0,children:Object(a.jsx)(d.a,{position:"sticky",top:0,children:Object(a.jsxs)(b.a,{children:[Object(a.jsx)(b.a.Group,{children:Object(a.jsx)(b.a.Item,{is:r.b,to:"/",children:"All"})}),Object(a.jsx)(b.a.Divider,{}),Object(a.jsx)(b.a.Group,{children:h.map((function(e){return Object(a.jsx)(b.a.Item,{is:r.b,to:"/quotes/".concat(e.id),children:e.name},e.id)}))})]})})})},O=n(24),m=n(66),f=n.n(m).a.create({baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"/quote-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).API_BASE_URL}),p=function(e){var t=e.author,n=e.text;return t.trim().length&&n.trim().length},g=n(181),v=n(39),y=n(67),q=function(e){var t=e.quote,n=e.onDelete,i=Object(c.useState)(!1),o=Object(u.a)(i,2),s=o[0],l=o[1];return Object(a.jsxs)(d.a,{display:"flex",flexDirection:"column",justifyContent:"space-between",border:!0,marginBottom:10,className:"fadeIn",children:[Object(a.jsx)(v.a,{padding:10,children:t.text}),Object(a.jsxs)(d.a,{borderTop:!0,padding:10,display:"flex",justifyContent:"flex-end",alignItems:"center",children:[Object(a.jsx)(j.a,{size:100,marginRight:"auto",children:t.author}),Object(a.jsx)(y.a,{marginRight:5,intent:"warning",is:r.b,to:"/quotes/".concat(t.id,"/edit"),children:"Edit"}),Object(a.jsx)(y.a,{intent:"danger",isLoading:s,onClick:function(){var e;l(!0),(e=t.id,f.delete("/quotes/".concat(e,".json"))).then((function(){l(!1),n(),g.a.success("Quote deleted")}))},children:"Delete"})]})]})},S=function(e){var t=e.quotes,n=e.onDelete;return t.length?t.map((function(e){return Object(a.jsx)(q,{quote:e,onDelete:n.bind(undefined,e.id)},e.id)})):Object(a.jsx)(v.a,{className:"fadeIn",children:"No quotes here :("})},I=function(e){var t=Object(c.useState)(!1),n=Object(u.a)(t,2),i=n[0],o=n[1],r=Object(c.useState)([]),s=Object(u.a)(r,2),b=s[0],m=s[1],p=Object(c.useState)(null),g=Object(u.a)(p,2),v=g[0],y=g[1];return Object(c.useEffect)((function(){var t=e.match.params.categoryId,n=h.find((function(e){return e.id===t}));t&&!n&&e.history.replace("/404"),y(t?n:null)}),[e.match.params]),Object(c.useEffect)((function(){e.match.params.categoryId&&!v||(o(!0),function(e){var t=e?'/quotes.json?orderBy="category"&equalTo="'.concat(e.id,'"'):"/quotes.json";return f.get(t).then((function(e){var t=e.data;return t?Object.entries(t).map((function(e){var t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(O.a)(Object(O.a)({},a),{},{id:n})})):[]}))}(v).then((function(e){o(!1),m(e)})))}),[v]),Object(a.jsxs)(d.a,{paddingY:40,display:"flex",className:"fadeIn",children:[Object(a.jsx)(x,{}),Object(a.jsxs)(d.a,{padding:10,paddingRight:0,flexGrow:1,children:[Object(a.jsx)(j.a,{marginBottom:10,children:v?v.name:"All"}),i?Object(a.jsx)(l.a,{size:40,marginX:"auto"}):Object(a.jsx)(S,{quotes:b,onDelete:function(e){m(b.filter((function(t){return t.id!==e})))}})]})]})},C=function(){return Object(a.jsxs)(d.a,{paddingY:20,display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:!0,children:[Object(a.jsx)(j.a,{children:"Quotes App"}),Object(a.jsxs)(d.a,{display:"flex",alignItems:"center",children:[Object(a.jsx)(y.a,{is:r.b,to:"/",appearance:"minimal",paddingX:10,children:"Quotes"}),Object(a.jsx)(y.a,{is:r.b,to:"/add-quote",appearance:"minimal",paddingX:10,children:"Submit new Quote"})]})]})},E=n(184),_=n(185),D=n(186),B=function(e){var t=e.history,n=Object(c.useState)(!1),i=Object(u.a)(n,2),o=i[0],r=i[1],s=Object(c.useState)({category:h[0].id,author:"",text:""}),l=Object(u.a)(s,2),b=l[0],x=l[1],m=function(e){var t=Object(O.a)({},b);t[e.target.name]=e.target.value,x(t)};return Object(a.jsxs)(d.a,{paddingY:40,display:"flex",flexDirection:"column",className:"fadeIn",children:[Object(a.jsx)(j.a,{marginBottom:10,children:"Create Quote"}),Object(a.jsx)(E.a,{label:"Category",value:b.category,name:"category",onChange:m,children:h.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.name},e.id)}))}),Object(a.jsx)(_.a,{label:"Author",placeholder:"Enter author name",value:b.author,name:"author",onChange:m}),Object(a.jsx)(D.a,{label:"Quote text",placeholder:"Enter quote text",value:b.text,name:"text",onChange:m}),Object(a.jsx)(y.a,{alignSelf:"flex-end",onClick:function(){p(b)&&(r(!0),function(e){return f.post("/quotes.json",e)}(b).then((function(){r(!1),g.a.success("Quote added"),t.push("/")})))},isLoading:o,disabled:!p(b),intent:"success",children:"Save"})]})},R=function(e){var t=Object(c.useState)(!1),n=Object(u.a)(t,2),i=n[0],o=n[1],s=Object(c.useState)({category:"",author:"",text:""}),l=Object(u.a)(s,2),b=l[0],x=l[1],m=function(e){var t=Object(O.a)({},b);t[e.target.name]=e.target.value,x(t)};return Object(c.useEffect)((function(){(function(e){return f.get("/quotes/".concat(e,".json")).then((function(t){return Object(O.a)(Object(O.a)({},t.data),{},{id:e})}))})(e.match.params.quoteId).then((function(e){x(e)}))}),[e.match.params]),Object(a.jsxs)(d.a,{paddingY:40,display:"flex",flexDirection:"column",className:"fadeIn",children:[Object(a.jsx)(j.a,{marginBottom:10,children:"Edit Quote"}),Object(a.jsx)(E.a,{label:"Category",value:b.category,name:"category",onChange:m,children:h.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.name},e.id)}))}),Object(a.jsx)(_.a,{label:"Author",placeholder:"Enter author name",value:b.author,name:"author",onChange:m}),Object(a.jsx)(D.a,{label:"Quote text",placeholder:"Enter quote text",value:b.text,name:"text",onChange:m}),Object(a.jsxs)(d.a,{display:"flex",justifyContent:"flex-end",alignItems:"center",children:[Object(a.jsx)(y.a,{is:r.b,to:"/",marginRight:10,children:"Back to quotes"}),Object(a.jsx)(y.a,{onClick:function(){p(b)&&(o(!0),function(e){return f.put("/quotes/".concat(e.id,".json"),e)}(b).then((function(){o(!1),g.a.success("Quote saved")})))},isLoading:i,disabled:!p(b),intent:"success",children:"Save"})]})]})},N=n(178),Q=function(){return Object(a.jsxs)(d.a,{paddingY:40,className:"fadeIn",display:"flex",flexDirection:"column",alignItems:"center",children:[Object(a.jsx)(N.a,{color:"muted",size:40,marginBottom:20}),Object(a.jsx)(j.a,{children:"404 Not found"})]})},k=function(){return Object(a.jsx)(r.a,{basename:"/quote-app/",children:Object(a.jsxs)(d.a,{maxWidth:640,paddingX:20,marginX:"auto",children:[Object(a.jsx)(C,{}),Object(a.jsxs)(s.d,{children:[Object(a.jsx)(s.b,{path:"/",exact:!0,component:I}),Object(a.jsx)(s.b,{path:"/quotes/:categoryId",exact:!0,component:I}),Object(a.jsx)(s.b,{path:"/add-quote",exact:!0,component:B}),Object(a.jsx)(s.b,{path:"/quotes/:quoteId/edit",exact:!0,component:R}),Object(a.jsx)(s.b,{path:"/404",exact:!0,component:Q}),Object(a.jsx)(s.b,{path:"/",children:Object(a.jsx)(s.a,{to:"/404"})})]})]})})};n(164);o.a.render(Object(a.jsx)(k,{}),document.getElementById("root"))}},[[166,1,2]]]);
//# sourceMappingURL=main.e7f6b3ab.chunk.js.map